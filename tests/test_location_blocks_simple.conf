# Test configuration for location blocks (PDF compliant)
# Testing routes without regex as specified in requirements

# Server with basic location blocks (prefix matching only)
server {
    listen 8080;
    server_name example.com;
    root /var/www/html;
    
    # Root location
    location / {
        root /var/www/home;
        index index.html;
    }
    
    # Static files location
    location /images/ {
        root /var/www/static;
    }
    
    # API location
    location /api/ {
        root /var/www/api;
    }
}

# Server with nested locations and priority
server {
    listen 8081;
    server_name test.com;
    root /var/www/test;
    
    # General API location
    location /api/ {
        root /var/www/api;
    }
    
    # More specific API location (should take priority)
    location /api/v1/ {
        root /var/www/api/v1;
    }
    
    # Admin location
    location /admin/ {
        root /var/www/admin;
    }
}

# Server with directory listing and default files
server {
    listen 8082;
    server_name files.com;
    root /var/www/files;
    
    # Location with directory listing enabled
    location /downloads/ {
        root /var/downloads;
        autoindex on;
    }
    
    # Location with custom index file
    location /docs/ {
        root /var/www/docs;
        index readme.html index.htm;
    }
    
    # Location with alias instead of root
    location /static/ {
        alias /var/static/;
    }
}

# Server testing route redirection
server {
    listen 8083;
    server_name redirect.com;
    root /var/www/redirect;
    
    # HTTP redirect
    location /old/ {
        return 301 /new/;
    }
    
    # Another redirect example
    location /temp/ {
        return 302 /permanent/;
    }
    
    # Normal location
    location /new/ {
        root /var/www/new;
    }
    
    location /permanent/ {
        root /var/www/permanent;
    }
}

# Server with file upload locations
server {
    listen 8084;
    server_name upload.com;
    root /var/www/upload;
    
    # Upload endpoint
    location /upload/ {
        client_max_body_size 100M;
        # Configure where uploaded files should be saved
        upload_store /var/uploads/;
    }
    
    # Image upload with smaller size limit
    location /upload/images/ {
        client_max_body_size 10M;
        upload_store /var/uploads/images/;
    }
}
