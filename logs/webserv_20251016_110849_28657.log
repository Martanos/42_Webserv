[2025-10-16 11:08:49] [INFO]     === WebServ Session Started ===
[2025-10-16 11:08:49] [INFO]     Session ID: webserv_20251016_110849_28657
[2025-10-16 11:08:49] [INFO]     Log Directory: logs
[2025-10-16 11:08:49] [INFO]     Process ID: 28657
[2025-10-16 11:08:49] [INFO]     [PerformanceMonitor.cpp:21] PerformanceMonitor: Performance monitoring initialized
[2025-10-16 11:08:49] [INFO]     [PerformanceMonitor.cpp:503] PerformanceMonitor: Thresholds set - Max Request Time: 1000 ms, Max CGI Time: 5000 ms, Max Memory: 102400 KB
[2025-10-16 11:08:49] [INFO]     [main.cpp:28] PerformanceMonitor: Performance monitoring initialized
[2025-10-16 11:08:49] [INFO]     Starting WebServ with config file: test.conf
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Starting to parse configuration file: test.conf
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Configuration file loaded successfully
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Found http block
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Found server block
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Starting to parse server block at line 2
[2025-10-16 11:08:49] [DEBUG]    ServerConfig: Processing listen directive: listen 8080;
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Successfully parsed server block with 1 listen directives
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Found server block
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Starting to parse server block at line 16
[2025-10-16 11:08:49] [DEBUG]    ServerConfig: Processing listen directive: listen 8081;
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Successfully parsed server block with 1 listen directives
[2025-10-16 11:08:49] [DEBUG]    ConfigParser: Successfully parsed 2 server configurations
[2025-10-16 11:08:49] [INFO]     Parsed 2 server configurations
[2025-10-16 11:08:49] [INFO]     EpollManager: Epoll instance created successfully with fd 4
[2025-10-16 11:08:49] [INFO]     EpollManager: Epoll instance created successfully with fd 5
[2025-10-16 11:08:49] [INFO]     Starting server manager...
[2025-10-16 11:08:49] [INFO]     Starting ServerManager with 2 server configurations
[2025-10-16 11:08:49] [INFO]     ServerMap: Creating ServerMap from 2 server configurations
[2025-10-16 11:08:49] [DEBUG]    ServerMap: ServerMap created successfully
[2025-10-16 11:08:49] [DEBUG]    ServerMap: Listening socket: fd: FileDescriptor: 4 isOpen: 1, host: 0.0.0.0, port: 8080 memory address: 0x5f305c352590
Servers:
 localhost
ServerMap: Listening socket: fd: FileDescriptor: 6 isOpen: 1, host: 0.0.0.0, port: 8081 memory address: 0x5f305c352750
Servers:
 localhost

[2025-10-16 11:08:49] [INFO]     EpollManager: Epoll instance created successfully with fd 7
[2025-10-16 11:08:49] [INFO]     ServerManager: Added 2 server file descriptors to epoll
[2025-10-16 11:08:49] [INFO]     ServerManager initialized successfully, entering main event loop
[2025-10-16 11:08:54] [INFO]     Client 5 disconnected in state 0
[2025-10-16 11:08:54] [INFO]     Client 5 disconnected in state 0
[2025-10-16 11:08:54] [INFO]     Client 5 disconnected in state 0
[2025-10-16 11:08:54] [INFO]     Client connected from :0
[2025-10-16 11:08:54] [DEBUG]    ServerManager: Client 5 added to epoll
[2025-10-16 11:08:54] [DEBUG]    [PerformanceMonitor.cpp:194] PerformanceMonitor: Connection recorded. Active: 1
[2025-10-16 11:08:54] [INFO]     Client 5 disconnected in state 0
[2025-10-16 11:08:54] [DEBUG]    Client: Handling event for client 5 in state 0
[2025-10-16 11:08:54] [DEBUG]    Client: Starting to read request from client 5
[2025-10-16 11:08:54] [DEBUG]    Client: Reading request from client 5
[2025-10-16 11:08:54] [DEBUG]    Client: Received 78 bytes from client 5
[2025-10-16 11:08:54] [DEBUG]    Client: Temp buffer: GET / HTTP/1.1
Host: localhost:8080
User-Agent: curl/7.81.0
Accept: */*


[2025-10-16 11:08:54] [DEBUG]    HttpRequest: Moved 78 bytes into _rawBuffer; now has 78
[2025-10-16 11:08:54] [DEBUG]    HttpURI: Parsed request line: GET / HTTP/1.1
[2025-10-16 11:08:54] [DEBUG]    HttpURI: Request line OK (GET / HTTP/1.1)
[2025-10-16 11:08:54] [DEBUG]    HttpURI: Remaining readable in main buffer after URI parse = 62
[2025-10-16 11:08:54] [DEBUG]    HttpRequest: Request line parsing complete
[2025-10-16 11:08:54] [DEBUG]    HttpRequest: Header parseBuffer() returned = 1
[2025-10-16 11:08:54] [DEBUG]    HttpRequest: Headers parsing complete
[2025-10-16 11:08:54] [DEBUG]    HttpRequest: Body parsing complete
[2025-10-16 11:08:54] [DEBUG]    HttpRequest::parseBuffer finished with state = 3
